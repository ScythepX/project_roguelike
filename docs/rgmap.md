# Формат карт для roguelike.
Карта представляет собой двумерное поле, заполненное тайлами.
Соответственно, карта содержит техническую информацию и сам массив тайлов.

## Спецификация файла карты
```
6c header # Версия формата карты
i width
i height
i spawn_x
i spawn_y
50s title # Заголовок карты
{width*height}struct_tile # Тайлы
```
`spawnpoint` используется для определения точки возрождения игрока. Игнорируется, если карта является фрагментом другой карты.

## Спецификация тайла в карте
```
id id
id rotation # Поворот тайла(4 положения)
id state # Состояние(открыт/закрыт, разрушен, и проч., используется для триггеров)

# устаревшая информация, будет переделано
```

## Триггерные тайлы
`action` может содержать название функции, определённой в поле `script` или одно из стандартных:
* `changeState(int state)` - сменить состояние тайла на указанное
* `give(string items[])` - дать игроку айтемы

## Спецификация тайла в списке тайлов
Каждый тайл в игре имеет общие свойства, такие как тип(препятствие, спавн мобов, пол и т. д.), используемые текстуры и прочее. Эти свойства определяются в отдельном файле в формате JSON и имеют следующий вид:
` ` `
[
    {
        id: 0,
        textures: ["wall.png"],
        is_obstacle: True,
        description: "Обычная стена"
    },
    {
        id: 1,
        textures: ["chest.png", "chest_opened.png"],
        is_obstacle: False,
        description: "Сундук",
        type: "chest"
    },
    {
        id: 2,
        textures: ["egg.png", "egg_cracked.png"],
        is_obstacle: False,
        description: "Яйцо дракона",
        type: "spawner",
        default_data: "dragon"
    }
]
` ` `
```
